{% extends 'base.html' %}

{% block title %}Cancelar Turno - Consultorio Médico{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-xl p-8">
        <div class="text-center mb-6">
            <div class="bg-red-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-exclamation-triangle text-red-600 text-4xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-800">Cancelar Turno</h2>
            <p class="text-gray-600 mt-2">¿Estás seguro que querés cancelar este turno?</p>
        </div>

        <!-- Información del turno -->
        <div class="bg-gray-50 rounded-lg p-6 mb-6">
            <h3 class="font-semibold text-gray-800 mb-4 text-center">Detalles del Turno</h3>
            
            <div class="space-y-3">
                <div class="flex items-center justify-between border-b pb-2">
                    <span class="text-gray-600 flex items-center">
                        <i class="fas fa-user-md w-5 text-blue-600 mr-2"></i>
                        Médico:
                    </span>
                    <span class="font-semibold text-gray-800">{{ turno.medico.nombre_completo }}</span>
                </div>
                
                <div class="flex items-center justify-between border-b pb-2">
                    <span class="text-gray-600 flex items-center">
                        <i class="fas fa-stethoscope w-5 text-green-600 mr-2"></i>
                        Especialidad:
                    </span>
                    <span class="font-semibold text-gray-800">{{ turno.medico.especialidad }}</span>
                </div>
                
                <div class="flex items-center justify-between border-b pb-2">
                    <span class="text-gray-600 flex items-center">
                        <i class="fas fa-calendar w-5 text-purple-600 mr-2"></i>
                        Fecha:
                    </span>
                    <span class="font-semibold text-gray-800">{{ turno.fecha|date:"d/m/Y" }}</span>
                </div>
                
                <div class="flex items-center justify-between border-b pb-2">
                    <span class="text-gray-600 flex items-center">
                        <i class="fas fa-clock w-5 text-orange-600 mr-2"></i>
                        Hora:
                    </span>
                    <span class="font-semibold text-gray-800">{{ turno.hora|time:"H:i" }} hs</span>
                </div>

                {% if turno.motivo %}
                <div class="border-b pb-2">
                    <span class="text-gray-600 flex items-center mb-1">
                        <i class="fas fa-comment-medical w-5 text-blue-600 mr-2"></i>
                        Motivo:
                    </span>
                    <p class="text-gray-700 ml-7">{{ turno.motivo }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Advertencia -->
        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-circle text-yellow-400 text-xl"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-700">
                        <strong>Importante:</strong> Esta acción no se puede deshacer. Si cancelás este turno, deberás reservar uno nuevo si querés consultar con el médico.
                    </p>
                </div>
            </div>
        </div>

        <!-- Botones -->
        <form method="post">
            {% csrf_token %}
            <div class="flex justify-between items-center">
                <a href="{% url 'mis_turnos' %}" class="text-gray-600 hover:text-gray-700 font-semibold">
                    <i class="fas fa-arrow-left mr-1"></i> No, volver
                </a>
                <button 
                    type="submit" 
                    class="bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition transform hover:scale-105"
                >
                    <i class="fas fa-times-circle mr-2"></i> Sí, Cancelar Turno
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}